<!doctype html>
<html lang="en" class="min-h-full bg-gray-100 dark:bg-gray-900">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaskTrack</title>
    <meta name="theme-color" content="#111827" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="assets/icons/app-logo.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/icons/icon-192.png" />

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />

    <!-- App styles -->
    <link rel="stylesheet" href="assets/styles.css" />
  </head>

  <body
    class="min-h-screen flex flex-col md:flex-row bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"
    style="min-height: 100vh; min-height: 100dvh;"
  >
    <!-- SVG sprite: app logo + small icons -->
    <svg
      aria-hidden="true"
      width="0"
      height="0"
      style="position: absolute"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <defs>
        <linearGradient id="app-logo-gradient" x1="50%" y1="0%" x2="50%" y2="100%">
          <stop offset="45%" stop-color="hsl(184, 74%, 44%)" />
          <stop offset="100%" stop-color="hsl(227, 80%, 33%)" />
        </linearGradient>
        <clipPath id="app-logo-clip-a">
          <rect width="57.142857142857146" height="800" x="0" y="0" />
          <rect width="57.142857142857146" height="800" x="114.28571428571429" y="0" />
          <rect width="57.142857142857146" height="800" x="228.57142857142858" y="0" />
          <rect width="57.142857142857146" height="800" x="342.8571428571429" y="0" />
          <rect width="57.142857142857146" height="800" x="457.14285714285717" y="0" />
          <rect width="57.142857142857146" height="800" x="571.4285714285714" y="0" />
          <rect width="57.142857142857146" height="800" x="685.7142857142858" y="0" />
          <rect width="57.142857142857146" height="800" x="800" y="0" />
          <rect width="57.142857142857146" height="800" x="914.2857142857143" y="0" />
          <rect width="57.142857142857146" height="800" x="1028.5714285714287" y="0" />
          <rect width="57.142857142857146" height="800" x="1142.857142857143" y="0" />
          <rect width="57.142857142857146" height="800" x="1257.142857142857" y="0" />
          <rect width="57.142857142857146" height="800" x="1371.4285714285716" y="0" />
          <rect width="57.142857142857146" height="800" x="1485.7142857142858" y="0" />
          <rect width="57.142857142857146" height="800" x="1600" y="0" />
        </clipPath>
        <clipPath id="app-logo-clip-b">
          <rect width="57.142857142857146" height="800" x="57.142857142857146" y="0" />
          <rect width="57.142857142857146" height="800" x="171.42857142857144" y="0" />
          <rect width="57.142857142857146" height="800" x="285.7142857142857" y="0" />
          <rect width="57.142857142857146" height="800" x="400" y="0" />
          <rect width="57.142857142857146" height="800" x="514.2857142857143" y="0" />
          <rect width="57.142857142857146" height="800" x="628.5714285714287" y="0" />
          <rect width="57.142857142857146" height="800" x="742.8571428571429" y="0" />
          <rect width="57.142857142857146" height="800" x="857.1428571428572" y="0" />
          <rect width="57.142857142857146" height="800" x="971.4285714285716" y="0" />
          <rect width="57.142857142857146" height="800" x="1085.7142857142858" y="0" />
          <rect width="57.142857142857146" height="800" x="1200" y="0" />
          <rect width="57.142857142857146" height="800" x="1314.2857142857144" y="0" />
          <rect width="57.142857142857146" height="800" x="1428.5714285714287" y="0" />
          <rect width="57.142857142857146" height="800" x="1542.857142857143" y="0" />
        </clipPath>
        <symbol id="app-logo" viewBox="0 0 800 800">
          <g stroke-width="40" stroke="url(#app-logo-gradient)" fill="none">
            <circle r="378" cx="400" cy="400" opacity="0.36" clip-path="url(#app-logo-clip-a)" />
            <circle r="303" cx="400" cy="400" opacity="0.36" clip-path="url(#app-logo-clip-a)" />
            <circle r="228" cx="400" cy="400" opacity="0.36" clip-path="url(#app-logo-clip-a)" />
            <circle r="153" cx="400" cy="400" opacity="0.36" clip-path="url(#app-logo-clip-a)" />
            <circle r="78" cx="400" cy="400" opacity="0.36" clip-path="url(#app-logo-clip-a)" />
            <circle r="380" cx="400" cy="400" clip-path="url(#app-logo-clip-b)" />
            <circle r="305" cx="400" cy="400" clip-path="url(#app-logo-clip-b)" />
            <circle r="230" cx="400" cy="400" clip-path="url(#app-logo-clip-b)" />
            <circle r="155" cx="400" cy="400" clip-path="url(#app-logo-clip-b)" />
            <circle r="80" cx="400" cy="400" clip-path="url(#app-logo-clip-b)" />
          </g>
        </symbol>
      </defs>
    </svg>

    <!-- Mobile Header -->
    <div
      id="mobileHeader"
      class="md:hidden flex items-center justify-start gap-4 p-4 bg-white dark:bg-gray-800 shadow-md"
    >
      <button id="menu-toggle" class="text-gray-900 dark:text-gray-100">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"
          />
        </svg>
      </button>
      <div class="flex items-center">
        <svg class="nav-logo nav-logo--mobile mr-2 text-gray-800 dark:text-white">
          <use href="#app-logo" xlink:href="#app-logo" />
        </svg>
        <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100">
          TaskTrack
        </h1>
      </div>
    </div>

    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-6 flex flex-col items-center shadow-lg border-r border-gray-200 dark:border-gray-700 overflow-y-auto md:overflow-visible transform -translate-x-full md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 md:min-h-screen"
      style="min-height: 100vh; min-height: 100dvh;"
    >
      <div class="mb-8 w-full">
        <button
          id="brandHome"
          class="flex flex-col items-center w-full cursor-pointer pt-6"
        >
          <svg
            id="brandLogo"
            class="nav-logo text-gray-800 dark:text-white mb-1 -mt-8"
          >
            <use href="#app-logo" xlink:href="#app-logo" />
          </svg>
          <h1
            id="brandTitle"
            class="text-2xl leading-none font-bold text-center text-gray-900 dark:text-gray-100"
          >
            TaskTrack
          </h1>
        </button>
      </div>

      <div class="mb-8">
        <label class="dark-mode-toggle">
          <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400"
            >Dark Mode</span
          >
          <input type="checkbox" id="themeToggle" class="peer" />
          <span class="toggle-track"><span class="toggle-thumb"></span></span>
        </label>
      </div>

      <nav class="w-full space-y-2">
        <button class="nav-btn" data-target="welcome" data-first-time>
          <span class="flex items-center">
            <i class="fa-solid fa-circle-info h-5 w-5 mr-3"></i>
            Welcome
          </span>
        </button>
        <button class="nav-btn active-nav-button" data-target="today">
          <span class="flex items-center">
            <i class="fa-solid fa-calendar-day h-5 w-5 mr-3"></i>
            Today
          </span>
        </button>
        <button class="nav-btn" data-target="week">
          <span class="flex items-center">
            <i class="fa-solid fa-calendar-week h-5 w-5 mr-3"></i>
            This week
          </span>
        </button>
        <button class="nav-btn" data-target="settings">
          <span class="flex items-center">
            <i class="fa-solid fa-sliders-h h-5 w-5 mr-3"></i>
            Settings
          </span>
        </button>
      </nav>
    </div>

    <div
      id="overlay"
      class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden md:hidden"
    ></div>

    <main class="flex-1 p-4 md:p-8 overflow-y-auto md:overflow-y-visible overflow-x-hidden">
      <div id="today" class="content-section active">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
          <div>
            <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">Today's plan</h2>
            <p class="text-gray-700 dark:text-gray-300">
              Plan and track across pomodoro sessions for the day.
            </p>
          </div>
          <div class="text-sm text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-2">
            <span class="font-semibold">Today:</span> <span id="todayDateLabel"></span>
          </div>
        </div>

        <div class="space-y-4">
          <div
            class="card is-collapsible"
            data-collapsible
            data-collapsible-id="today-plan"
          >
            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
              <button
                type="button"
                class="card-toggle"
                data-collapsible-trigger
                aria-expanded="true"
                aria-controls="today-plan-content"
              >
                <span>Plan today's tasks</span>
                <svg
                  class="chev"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  aria-hidden="true"
                >
                  <path
                    d="M6 8l4 4 4-4"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </h3>
            <div
              id="today-plan-content"
              class="card-body space-y-4"
              data-collapsible-content
            >
              <form id="taskForm" class="space-y-4">
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="md:col-span-2">
                    <label for="taskTitle" class="form-label">Title</label>
                    <input id="taskTitle" type="text" class="input-field" required />
                  </div>
                  <div class="md:col-span-2">
                    <label for="taskDescription" class="form-label">Description (optional)</label>
                    <textarea id="taskDescription" class="input-field" rows="2"></textarea>
                  </div>
                  <div>
                    <label for="taskPlanned" class="form-label">Planned pomodoros</label>
                    <input
                      id="taskPlanned"
                      type="number"
                      min="0"
                      step="1"
                      class="input-field"
                      value="1"
                      required
                    />
                  </div>
                  <div>
                    <label for="taskRound" class="form-label">Assign to pomodoro round</label>
                    <input
                      id="taskRound"
                      type="number"
                      min="1"
                      step="1"
                      class="input-field"
                      value="1"
                      required
                    />
                  </div>
                </div>
                <div class="flex flex-wrap gap-3">
                  <button type="submit" class="btn btn-blue" id="taskSubmit">Add task</button>
                  <button type="button" class="btn btn-gray hidden" id="taskCancel">Cancel edit</button>
                </div>
              </form>
            </div>
          </div>

          <div
            class="card is-collapsible"
            data-collapsible
            data-collapsible-id="today-tasks"
          >
            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
              <button
                type="button"
                class="card-toggle"
                data-collapsible-trigger
                aria-expanded="true"
                aria-controls="today-tasks-content"
              >
                <span>Today's tasks</span>
                <svg
                  class="chev"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  aria-hidden="true"
                >
                  <path
                    d="M6 8l4 4 4-4"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </h3>
            <div
              id="today-tasks-content"
              class="card-body space-y-4"
              data-collapsible-content
            >
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
                <p id="activeTaskLabel" class="text-sm text-gray-600 dark:text-gray-300">
                  No active task selected
                </p>
                <p id="currentRoundLabel" class="text-sm text-gray-600 dark:text-gray-300">
                  Current pomodoro round: 1
                </p>
              </div>
              <div id="taskList" class="space-y-3"></div>
            </div>
          </div>

          <div
            class="card is-collapsible"
            data-collapsible
            data-collapsible-id="today-timer"
          >
            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
              <button
                type="button"
                class="card-toggle"
                data-collapsible-trigger
                aria-expanded="true"
                aria-controls="today-timer-content"
              >
                <span>Pomodoro timer</span>
                <svg
                  class="chev"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  aria-hidden="true"
                >
                  <path
                    d="M6 8l4 4 4-4"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </h3>
            <div
              id="today-timer-content"
              class="card-body space-y-4"
              data-collapsible-content
            >
              <p class="text-sm text-gray-600 dark:text-gray-300">
                Switch modes, start a session, and log focus time to the active task.
              </p>
              <div class="flex flex-wrap gap-2">
                <button type="button" class="btn btn-blue" data-timer-mode="focus">Focus</button>
                <button type="button" class="btn btn-gray" data-timer-mode="shortBreak">Short break</button>
                <button type="button" class="btn btn-gray" data-timer-mode="longBreak">Long break</button>
              </div>
              <div class="mt-2">
                <div class="flex items-end gap-3">
                  <span
                    id="timerDisplay"
                    class="text-5xl font-bold text-gray-900 dark:text-gray-100 leading-none"
                    >25:00</span
                  >
                  <span class="uppercase text-xs tracking-wide text-gray-500 dark:text-gray-400">
                    <span id="timerMode">Focus</span>
                  </span>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300 mt-3">
                  Active task: <span id="timerActiveTask" class="font-semibold">None</span>
                </p>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                  Current round: <span id="timerRoundLabel" class="font-semibold">Round 1</span>
                </p>
              </div>
              <div class="flex flex-wrap gap-2">
                <button type="button" class="btn btn-blue" data-timer-control="start">Start</button>
                <button type="button" class="btn btn-gray" data-timer-control="pause">Pause</button>
                <button type="button" class="btn btn-gray" data-timer-control="reset">Reset</button>
              </div>
              <p id="timerStatus" class="text-sm text-gray-600 dark:text-gray-300"></p>
              <audio id="timerAlarm" src="assets/audio/pomodoro-chime.wav" preload="auto"></audio>
            </div>
          </div>

          <div
            class="card is-collapsible"
            data-collapsible
            data-collapsible-id="today-summary"
          >
            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
              <button
                type="button"
                class="card-toggle"
                data-collapsible-trigger
                aria-expanded="true"
                aria-controls="today-summary-content"
              >
                <span>Today summary</span>
                <svg
                  class="chev"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  aria-hidden="true"
                >
                  <path
                    d="M6 8l4 4 4-4"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </h3>
            <div
              id="today-summary-content"
              class="card-body space-y-3"
              data-collapsible-content
            >
              <p class="text-sm text-gray-600 dark:text-gray-300">
                Review today's plan versus what you completed.
              </p>
              <div id="todaySummary" class="space-y-2"></div>
            </div>
          </div>
        </div>
      </div>

      <div id="week" class="content-section">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">This week</h2>
        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Past 7 days</h3>
          <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
            Daily planned versus completed pomodoros for the last week.
          </p>
          <div id="weekSummary" class="space-y-3"></div>
        </div>
      </div>

      <div id="welcome" class="content-section" data-first-time>
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">
          Welcome to TaskTrack
        </h2>
        <div class="card" data-first-time>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
            Get started
          </h3>
          <p class="text-gray-700 dark:text-gray-300 mb-4">
            TaskTrack keeps your data on this device. Map out today's work, link focus sessions to a task, and keep an eye on your week at a glance.
          </p>
          <ul class="list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300 mb-6">
            <li>Capture today's tasks with planned pomodoro counts.</li>
            <li>Start the timer, pick an active task, and let completed sessions auto-log.</li>
            <li>Check the This Week view for a quick recap of your focus streaks.</li>
          </ul>
          <div class="flex flex-wrap gap-3">
            <button class="btn btn-blue" data-action="go-settings">
              Open Settings
            </button>
          </div>
        </div>
      </div>

      <div id="settings" class="content-section">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">
          Settings
        </h2>
        <div
          class="card is-collapsible"
          data-collapsible
          data-collapsible-id="settings-version"
        >
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            <button
              type="button"
              class="card-toggle"
              data-collapsible-trigger
              aria-expanded="true"
              aria-controls="settings-version-content"
            >
              <span>Version</span>
              <svg
                class="chev"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M6 8l4 4 4-4"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </h3>
          <div
            id="settings-version-content"
            class="card-body space-y-4"
            data-collapsible-content
          >
            <p class="text-sm text-gray-700 dark:text-gray-300">
              TaskTrack version
              <span
                data-app-version
                class="font-semibold text-gray-900 dark:text-gray-100"
                >dev</span
              >
            </p>
            <div class="flex flex-col gap-3 sm:items-start">
              <button
                class="btn btn-blue w-full sm:w-auto"
                data-action="update-app"
                type="button"
              >
                Check for updates
              </button>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                Installs the latest version without clearing your saved preferences.
              </p>
            </div>
          </div>
        </div>

        <div
          class="card is-collapsible"
          data-collapsible
          data-collapsible-id="settings-layout"
        >
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            <button
              type="button"
              class="card-toggle"
              data-collapsible-trigger
              aria-expanded="true"
              aria-controls="settings-layout-content"
            >
              <span>Layout Settings</span>
              <svg
                class="chev"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M6 8l4 4 4-4"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </h3>
          <div
            id="settings-layout-content"
            class="card-body space-y-6"
            data-collapsible-content
          >
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Choose a look and feel. Your choice is saved for the next visit.
              </p>
              <div class="max-w-xs">
                <label for="themeSelect" class="form-label">Theme</label>
                <select id="themeSelect" class="input-field">
                  <option value="default">Default</option>
                  <option value="inverted">Inverted</option>
                  <option value="glass">Glass</option>
                </select>
              </div>
            </div>
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Decide whether the navigation menu stays fixed at the top while scrolling on mobile devices.
              </p>
              <label class="dark-mode-toggle">
                <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400"
                  >Keep navigation menu fixed on mobile</span
                >
                <input
                  type="checkbox"
                  id="mobileNavStickyToggle"
                  class="peer"
                  checked
                />
                <span class="toggle-track"><span class="toggle-thumb"></span></span>
              </label>
            </div>
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Show or hide welcome tips once you're familiar with the app.
              </p>
              <label class="dark-mode-toggle">
                <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400"
                  >Show first-time use guidance</span
                >
                <input type="checkbox" id="welcomeToggle" class="peer" />
                <span class="toggle-track"><span class="toggle-thumb"></span></span>
              </label>
            </div>
          </div>
        </div>

        <div
          class="card is-collapsible"
          data-collapsible
          data-collapsible-id="settings-timer"
        >
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            <button
              type="button"
              class="card-toggle"
              data-collapsible-trigger
              aria-expanded="true"
              aria-controls="settings-timer-content"
            >
              <span>Timer settings</span>
              <svg
                class="chev"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M6 8l4 4 4-4"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </h3>
          <div
            id="settings-timer-content"
            class="card-body space-y-6"
            data-collapsible-content
          >
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              Customize pomodoro lengths and how many focus sessions you want before a long break. Changes apply to new sessions.
            </p>
            <form id="timerSettingsForm" class="grid gap-4 md:grid-cols-2">
              <div>
                <label for="focusMinutes" class="form-label">Focus length (minutes)</label>
                <input
                  id="focusMinutes"
                  type="number"
                  min="1"
                  max="180"
                  step="1"
                  class="input-field"
                  required
                />
              </div>
              <div>
                <label for="shortBreakMinutes" class="form-label">Short break length (minutes)</label>
                <input
                  id="shortBreakMinutes"
                  type="number"
                  min="1"
                  max="60"
                  step="1"
                  class="input-field"
                  required
                />
              </div>
              <div>
                <label for="longBreakMinutes" class="form-label">Long break length (minutes)</label>
                <input
                  id="longBreakMinutes"
                  type="number"
                  min="1"
                  max="120"
                  step="1"
                  class="input-field"
                  required
                />
              </div>
              <div>
                <label for="sessionsBeforeLongBreak" class="form-label">Focus sessions before long break</label>
                <input
                  id="sessionsBeforeLongBreak"
                  type="number"
                  min="1"
                  max="12"
                  step="1"
                  class="input-field"
                  required
                />
              </div>
              <div class="md:col-span-2">
                <label for="alarmTone" class="form-label">Notification tone</label>
                <div class="flex flex-col gap-3 sm:max-w-sm">
                  <select id="alarmTone" class="input-field">
                    <option value="chime">Soft chime (default)</option>
                    <option value="bell">Long ringing bell</option>
                    <option value="beeps">Series of beeps</option>
                  </select>
                  <button type="button" class="btn btn-gray w-full" id="alarmTonePreview">
                    Preview tone
                  </button>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">
                  Plays when a session finishes. Applies immediately.
                </p>
              </div>
              <div class="md:col-span-2 flex flex-wrap gap-3">
                <button type="submit" class="btn btn-blue" id="timerSettingsSave">Save timer settings</button>
                <button type="button" class="btn btn-gray" id="timerSettingsReset">Reset to defaults</button>
              </div>
            </form>
          </div>
        </div>

        <div
          class="card is-collapsible"
          data-collapsible
          data-collapsible-id="settings-reset"
        >
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3">
            <button
              type="button"
              class="card-toggle"
              data-collapsible-trigger
              aria-expanded="true"
              aria-controls="settings-reset-content"
            >
              <span>Reset App</span>
              <svg
                class="chev"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M6 8l4 4 4-4"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </h3>
          <div
            id="settings-reset-content"
            class="card-body space-y-4"
            data-collapsible-content
          >
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              Clear all locally stored data and restart the app.
            </p>
            <button class="btn btn-red flex items-center" data-action="clear-data">
              <i class="fa-solid fa-trash mr-2"></i>
              Clear Data
            </button>
          </div>
        </div>

        <div
          id="changelogCard"
          class="card is-collapsible"
          data-collapsible
          data-collapsible-id="settings-changelog"
        >
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            <button
              type="button"
              class="card-toggle"
              data-collapsible-trigger
              aria-expanded="true"
              aria-controls="settings-changelog-content"
            >
              <span>Changelog</span>
              <svg
                class="chev"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M6 8l4 4 4-4"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </h3>
          <div
            id="settings-changelog-content"
            class="card-body space-y-4"
            data-collapsible-content
          >
            <p class="text-sm text-gray-700 dark:text-gray-300">
              The latest TaskTrack updates appear here.
            </p>
            <div data-changelog-list class="space-y-4"></div>
            <p
              data-changelog-empty
              class="text-sm text-gray-500 dark:text-gray-400 hidden"
            >
              Recent release notes will appear here after the next update.
            </p>
            <p
              data-changelog-error
              class="text-sm text-red-600 dark:text-red-400 hidden"
            >
              We couldn't load the changelog. Please check your connection and try again.
            </p>
          </div>
        </div>
      </div>
    </main>

    <div
      id="modal"
      class="modal-overlay modal-hidden"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
    >
      <div class="modal-panel">
        <button
          type="button"
          class="btn-icon absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"
          data-action="close-modal"
          aria-label="Close dialog"
        >
          <span class="sr-only">Close</span>
          <i class="fa-solid fa-xmark text-lg" aria-hidden="true"></i>
        </button>
        <div id="modal-body" class="space-y-4"></div>
      </div>
    </div>

    <script src="assets/js/app.js"></script>
  </body>
</html>
